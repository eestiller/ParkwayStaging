function getHospitalChecked(){var t="",e=document.getElementById(chkHospitalListClientId),s=e.getElementsByTagName("input");if(null!=s&&s.length>0)for(i=1;i<s.length;i++)1==s[i].checked&&(t+=s[i].value+",");return t}function search(t,e){var i=$("#"+hdnAlphabeticalSearchClientId).val(),s=window.location.toString();-1!=s.indexOf("Alphabetical")&&"none"!=i&&("alphabet"!=e?(i="",i=s.substr(s.indexOf("Alphabetical")+13,1)):(i="",i=$("#"+hdnAlphabeticalSearchClientId).val())),-1!=s.indexOf("?")&&(s=s.substring(0,s.indexOf("?"))),s+="?PageIndex="+t;var n=getHospitalChecked();""!=document.getElementById(searchCriteriaClientId).value&&(s+="&ClinicName="+removeSpecialCharacters(document.getElementById(searchCriteriaClientId).value)),""!=n&&(s+="&Hospitals="+n.substr(0,n.length-1)),""!=i&&"none"!=i&&(s+="&Alphabetical="+i),s=encodeURI(s),document.location.href=s}function pageScroll(){try{window.scrollBy(0,1e4)}catch(t){}}function removeSpecialCharacters(t){var e="";if(t.length>0)for(var i=0;i<t.length;i++)(t[i]>="0"&&t[i]<="9"||t[i]>="A"&&t[i]<="Z"||t[i]>="a"&&t[i]<="z"||"."==t[i]||"_"==t[i]||" "==t[i])&&(e+=t[i]);return e.trim()}$(document).ready(function(){pageScroll();var t=[],e=$("#"+chkHospitalListClientId+" input[type=checkbox]:first");"checked"==e.attr("checked")&&$("#"+chkHospitalListClientId+" input[type=checkbox]").attr("checked","checked"),$("#"+searchCriteriaClientId).autocomplete({source:function(e,i){t=[],$("#"+chkHospitalListClientId+" input[type=checkbox]:checked").each(function(){var i=$(this).val();""!=i&&"-1"!=i&&t.push(i)});var s={keyword:$("#"+searchCriteriaClientId).val(),hospitalIds:t};$.ajax({url:"/Index.aspx/GetClinicNames",data:JSON.stringify(s),dataType:"json",type:"POST",contentType:"application/json; charset=utf-8",success:function(t){for(var e=new Array,s=0;s<t.d.length;s++){var n=t.d[s].Name,a=t.d[s].ID,o={label:n,value:a};e.push(o)}i($.map(e,function(t){return{label:t.label,value:t.label}}))},error:function(t,e){alert(e)}})},select:function(t,e){e.item&&$("#"+searchCriteriaClientId).val(e.item.label)},minLength:2}),e.change(function(){$(this).is(":checked")?$("#"+chkHospitalListClientId+" input:checkbox").attr("checked","checked"):$("#"+chkHospitalListClientId+" input:checkbox").removeAttr("checked")});var i=$("#"+chkHospitalListClientId+" input[type=checkbox]").not(":first").length;$("#"+chkHospitalListClientId+" input[type=checkbox]").not(":first").change(function(){var t=$("#"+chkHospitalListClientId+" input[type=checkbox]").not(":first").filter(":checked").length;i==t?e.attr("checked","checked"):e.removeAttr("checked")}),$(".fake-btn").click(function(){search(0)}),$("#alphabeticalFilter li a").click(function(){$("#alphabeticalFilter li a").removeClass("active"),$(this).addClass("active");var t=$(this).text().toLowerCase();$("#"+hdnAlphabeticalSearchClientId).val(t),search(0,"alphabet")}),$("#"+btnSearchClientId).click(function(){return $("#"+hdnAlphabeticalSearchClientId).val("none"),search(0),!1})});